<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Vanna Chat</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script type="module" src="https://img.vanna.ai/vanna-components.js"></script>
    
    <style>
        body {
            background: linear-gradient(to bottom, #e7e1cf, #ffffff);
            min-height: 100vh;
        }
        vanna-chat {
            width: 100%;
            height: 100%;
            display: block;
        }
    </style>
</head>
<body>
    <div class="max-w-6xl mx-auto p-5">
        <h1 class="text-4xl font-bold text-center mb-8">My Data Agent</h1>
        
        <div class="bg-white rounded-xl shadow-lg h-[600px] overflow-hidden">
            <vanna-chat
                api-base=""
                sse-endpoint="/api/vanna/v2/chat_sse"
                ws-endpoint="/api/vanna/v2/chat_websocket"
                poll-endpoint="/api/vanna/v2/chat_poll">
            </vanna-chat>
        </div>
    </div>
    
    <script>
      document.addEventListener('DOMContentLoaded', () => {
    const vannaChat = document.querySelector('vanna-chat');
    
    vannaChat.addEventListener('artifact-opened', (event) => {
        const { artifactId, type, title } = event.detail;
        
        // Open artifact in a new window
        const newWindow = window.open('', '_blank', 'width=900,height=700');
        newWindow.document.write(event.detail.getStandaloneHTML());
        newWindow.document.close();
        
        // Prevent default in-chat rendering
        event.detail.preventDefault();
    });
});
    </script>
</body>
</html>